{% extends 'base.html' %}
{% block content %}
<h2>Programs</h2>


<!-- Sexy, compact search and filter -->
<form method="get" class="form-inline mb-3" style="gap: 0.5rem; flex-wrap: wrap; align-items: center;">
  <div class="input-group input-group-sm" style="max-width: 180px;">
    <input type="text" name="search" placeholder="Search programs..." value="{{ request.GET.search }}" class="form-control" aria-label="Search programs">
  </div>
  <div class="input-group input-group-sm" style="max-width: 140px;">
    <select name="phase" class="form-control">
      <option value="All">All Phases</option>
      {% for phase in phases_list %}
        {% if phase %}
          <option value="{{ phase }}" {% if request.GET.phase == phase %}selected{% endif %}>{{ phase }}</option>
        {% endif %}
      {% endfor %}
    </select>
  </div>
  <div class="input-group input-group-sm" style="max-width: 140px;">
    <select name="alignment" class="form-control">
      <option value="All">All Alignments</option>
      {% for alignment in alignments_list %}
        {% if alignment %}
          <option value="{{ alignment }}" {% if request.GET.alignment == alignment %}selected{% endif %}>{{ alignment }}</option>
        {% endif %}
      {% endfor %}
    </select>
  </div>
  <button type="submit" class="btn btn-primary btn-sm">Filter</button>
  <a href="{% url 'program_list' %}" class="btn btn-secondary btn-sm">Reset</a>
</form>


<a href="{% url 'program_add' %}" class="btn btn-success mb-3">Add Program</a>
<table class="table table-bordered">
  <tr>
    <th>Name</th>
    <th>National Alignment</th>
    <th>Focus Areas</th>
    <th>Phases</th>
    
  </tr>
  {% for program in object_list %}
  <tr>
    <td><a href="{% url 'program_detail' program.pk %}">{{ program.name }}</a></td>
    <td>{{ program.national_alignment }}</td>
    <td>{{ program.focus_areas }}</td>
    <td>{{ program.phases }}</td>
    
  </tr>
  {% empty %}
  <tr><td colspan="3">No programs found.</td></tr>
  {% endfor %}
</table>
{% endblock %}
